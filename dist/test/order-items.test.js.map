{"version":3,"sources":["../../test/order-items.test.js"],"names":["expect","chai","use","request","apiVersion","id","describe","app","get","then","res","body","items","to","be","an","have","all","keys","it","post","send","order","put","delete","text","equal","catch","err","console","log","message"],"mappings":"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","sourcesContent":["import chai from 'chai';\r\nimport request from 'chai-http';\r\nimport app from '../index';\r\nimport fs from 'fs';\r\nimport path from 'path'; \r\n\r\nconst { expect, use } = chai;\r\n\r\nuse(request);\r\n\r\nconst apiVersion = '/api/v1';\r\n\r\n//Get id of item added during add order item test to delete during delete order item test\r\nlet id;\r\n\r\ndescribe('Get order items', () => {\r\n    chai.request(app)\r\n        .get(`${apiVersion}/order-items/1`)\r\n        .then(res => res.body)\r\n        .then(items => {\r\n            expect(items).to.be.an('array');\r\n            if(items[0]) {\r\n                expect(items[0]).to.have.all.keys('mealId','userId','id','quantity','status');\r\n            }\r\n        });\r\n});\r\n\r\ndescribe('Add order item', () => {\r\n    it('Should return added item', () => {\r\n        chai.request(app)\r\n            .post(`${apiVersion}/order-items`)\r\n            .send({\r\n                \"mealId\": 5,\r\n                \"userId\": 2,\r\n                \"quantity\": 2,\r\n                \"status\": \"cart\"\r\n            })\r\n            .then(res => res.body)\r\n            .then(order => {\r\n                id = order.id;\r\n                expect(order).to.be.an('object');\r\n                expect(order).to.have.all.keys('mealId','userId','id','quantity','status');                \r\n            })\r\n    });\r\n});\r\n\r\ndescribe('Edit order item',() => {\r\n    it('Should return added item', () => {\r\n        chai.request(app)\r\n            .put(`${apiVersion}/order-items`)\r\n            .send({\r\n                id,\r\n                \"mealId\": 5,\r\n                \"userId\": 2,\r\n                \"quantity\": 10,\r\n                \"status\": \"cart\"\r\n            })\r\n            .then(res => res.body)\r\n            .then(order => {\r\n                expect(order).to.be.an('object');\r\n                expect(order).to.have.all.keys('mealId','userId','id','quantity','status');                \r\n            })\r\n    });\r\n})\r\n\r\ndescribe('Delete order item', () => {\r\n    it('Should return empty response', () => {\r\n        chai.request(app)\r\n        .delete(`${apiVersion}/order-items/${id}`)\r\n        .then((res) => {\r\n            expect(res.text).to.be.equal('');\r\n        })\r\n        .catch((err) => {\r\n            console.log(err.message);\r\n        });\r\n    })\r\n})\r\n"],"file":"order-items.test.js"}